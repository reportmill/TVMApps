
plugins {
    id 'java'
    id 'maven-publish'
    id 'idea'
}

repositories {
    mavenLocal()
    maven {
        url = 'https://repo.maven.apache.org/maven2'
    }
}

dependencies {

//    compileOnly 'org.teavm:teavm-classlib:0.6.1'
//    compileOnly 'org.teavm:teavm-jso-apis:0.6.1'
    compile group: 'org.teavm', name: 'teavm-cli', version: '0.6.1'

    compile project(':SnapKit')
    compile project(':SnapTea')
    compile project(':SnapDemos')
}

group = 'tvmapps'
version = '1.0-SNAPSHOT'

sourceCompatibility = '1.8'
buildDir = 'build'

/**
 * Run TeaVM compiler.
 */
task tvmc (type: JavaExec){
    description = "Run TeaVM compiler"
    main = 'org.teavm.cli.TeaVMRunner'
    args = [ "tvmapps.TVFacetris", "-d", "/tmp/tvmout" ]
    classpath = sourceSets.main.runtimeClasspath
}

task tvmc2 {

    doLast {
        String SNAP_ROOT = "/Users/jeff/SnapDev"
        println "hey there: " + SNAP_ROOT
        configurations.compile.each { println it }

        for (Project proj : project.allprojects)
            println proj.name

        for (SourceSet ss : sourceSets.main)
            for (String cp : ss.runtimeClasspath)
                println "$ss.name : $cp"
    }
}